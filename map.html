<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
  <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.js"></script>
  <link
    rel="stylesheet"
    href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.css"
    type="text/css"
  />
  <title>Google Maps Clone</title>
  <style>
    body {
      margin: 0;
    }

    #map {
      height: 100vh;
      width: 100vw;
    }
  </style>
  <!-- <script src="script.js" defer></script> -->
  <script>
  mapboxgl.accessToken =
    "pk.eyJ1IjoicGVyZmV6aW9uaXN0YSIsImEiOiJja2loY20xMW4wNjd2MnpueHNreTJldTU4In0.TIVkaRXsECLUJT61UVAyYw"

  navigator.geolocation.getCurrentPosition(successLocation, errorLocation, {
    enableHighAccuracy: true
  })

  function successLocation(position) {
    setupMap([position.coords.longitude, position.coords.latitude])
  }

  function errorLocation() {
    setupMap([-2.24, 53.48])
  }

  function setupMap(center) {

    const map = new mapboxgl.Map({
      container: "map",
      style: "mapbox://styles/mapbox/streets-v11",
      center: center,
      zoom: 5
    })

    const nav = new mapboxgl.NavigationControl()
    map.addControl(nav)

    var directions = new MapboxDirections({
      accessToken: mapboxgl.accessToken
    })

    // Set options
  var marker = new mapboxgl.Marker({
      color: "#FF0000",
      draggable: true
    }).setLngLat([73.85442,18.51970])
    .addTo(map);

    var marker1 = new mapboxgl.Marker({
        color: "#FF0000",
        draggable: true
      }).setLngLat([75.3303552,19.8705152])
      .addTo(map);

      var marker2 = new mapboxgl.Marker({
          color: "#FF0000",
          draggable: true
        }).setLngLat([72.8347,18.9220])
        .addTo(map);

        var marker3 = new mapboxgl.Marker({
            color: "#FF0000",
            draggable: true
          }).setLngLat([75.5626,21.0077])
          .addTo(map);

          var marker4 = new mapboxgl.Marker({
              color: "#FF0000",
              draggable: true
            }).setLngLat([73.7898,19.9975])
            .addTo(map);

    map.addControl(directions, "top-left")
  }





  </script>
</head>
<body>
  <div id='map'></div>
</body>
</html>
